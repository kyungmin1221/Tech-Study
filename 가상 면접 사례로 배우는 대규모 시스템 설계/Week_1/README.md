## 가상 면접 사례로 배우는 대규모 시스템 설계 기초
### chapter 1 & 2
#### Date : 2026.02.02 ~ 2026.02.08

## 1장 : 사용자 수에 따른 규모 확장성 
- 웹 계층은 무상태 계층으로
- 모든 계층에 다중화 도입
- 가능한 한 많은 데이터를 캐시할 것
- 정적 콘텐츠는 CDN 을 통해 서비스 할 것
- 데이터 계층은 샤딩을 통해 그 규모를 확장할 것
- 각 계층은 독립적인 서비스로 분할할 것
- 시스템을 지속적으로 모니터링하고 자동화 도구들을 활용할 것

### 어떤 DB? 
- 관계형 DB(RDBMS) 와 비관계형 DB(NoSql)

#### 비관계형 DB(NoSql) 은 언제 적절할까에 대한 고민 
1. 아주 낮은 응답 지연시간 요구
2. 다루는 데이터가 비정형
3. 데이터를 직렬화 및 역직렬화 할 수 있기만 하면 OK
4. 아주 많은 양의 데이터를 저장할 필요가 있음

### 캐시 
- DB 부하를 덜어주기 위해 앞 flow 에 캐시를 둠 -> 읽기 주도형 캐시 전략 
- 캐시에는 어떤 데이터를 두어야할까? 캐시는 휘발성이기 때문에 영속성이 중요한 데이터는 캐시에 두지 않는 것이 좋다. 
- 캐시는 원본 DB 와 일관성을 유지하기 위해 적절한 만료 시간 설정이 필요하다 . 
- 캐시 메모리는 작으면 너무 많이 데이터 방출이 일어나기 때문에 캐시 메모리 과할당을 통해 이 문제를 해결한다. 

### 무상태 웹 계층 
- 상태 의존적인 계층은 로드 밸런서에 부담을 준다.  클라이언트 -> 웹서버 -> 공유저장소 의 흐름을 통해 상태정보를 웹서버랑 분리한다. 상태정보가 필요할 때만 공유 저장소에 들려 가져오면 된다.


### 수직 vs 수평적 확장 
-  수직적 : 사양 upup -> SPOF(단일장애지점) 로 인한 위험
-  수평적 : 서버 개수 up
-  샤딩 : 대규모 db 를 샤드라는 작은 단위로 분할하는 기술 / 샤드에는 중복이 없음
-> 샤딩이 좋아보이지만 여러 문제가 있음 : 유명인사 문제, 재샤딩 문제, 조인 문제

---
## 2장 : 개략적인 규모 측정 

- 메모리는 빠르지만 디스크는 아직도 느리다
- 디스크 탐색은 가능한 한 피해라 -> 디스크 탐색하는 구체적인 행위는 뭐지?
- 단순한 압축 알고리즘은 빠르다.


---
Q ) 
1. 읽기 주도형 캐기 전략은 정확히 무엇이며 어떤 것들이 있는가 ?

2. 중요한 데이터는 캐시에 두는 것이 적절하지 않다고 했는데 , 그 데이터가 조회가 빈번하다면?

3. 보통 대규모 시스템에서의 캐시 만료 시간은 어떻게 하는지?

4. 캐시 메모리 방출 문제 해결을 위해서 캐시 메모리 과할당을 하라고 했다. 과할당하면 생기는 문제는 없을까?

5. 여러 샤드로 분할하면 조인이 왜? 힘들까? 


